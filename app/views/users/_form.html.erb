<%= form_for @user, html: {class: 'form-horizontal', multipart: true} do |f| %>
  <%= devise_error_messages! %>

  <div class="form-group">
    <label for="avatar" class='col-sm-2 control-label'></label>
    <div class="col-sm-9">
      <%= image_for_user @user, :medium %>
    </div>
  </div>

  <div class="form-group">
    <%= f.label :avatar, class: 'col-sm-2 control-label'  %>
    <div class="col-sm-9">
      <%= f.file_field :avatar %>
    </div>
  </div>

  <div class="form-group">
    <%= f.label :name, class: 'col-sm-2 control-label'  %>
    <div class="col-sm-9">
      <%= f.text_field :name, autofocus: true, class: 'form-control'  %>
    </div>
  </div>

  <div class="form-group">
    <%= f.label :gender, "Gender", class: 'col-sm-2 control-label'  %>
    <div class="col-sm-9">
      <%= f.label :gender, "Male", class: 'col-sm-3' %><%= f.radio_button :gender, 'Male', class: 'col-sm-2' %>
      <%= f.label :gender, "Female", class: 'col-sm-3' %><%= f.radio_button :gender, 'Female', class: 'col-sm-2' %>
    </div>
  </div>

  <div class="form-group">
    <%= f.label :birthday, class: 'col-sm-2 control-label'  %>
    <div class="col-sm-9">
      <%= f.date_select :birthday, order: [:month, :day, :year], start_year: 1920, end_year: 2000, class: 'form-control'  %>
    </div>
  </div>

  <div class="form-group">
    <%= f.label :bio, class: 'col-sm-2 control-label'  %>
    <div class="col-sm-9">
      <%= f.text_area :bio, class: 'form-control', :placeholder => "Share something about yourself" %>
    </div>
  </div>

  <div class="form-group">
    <%= f.label :email, class: 'col-sm-2 control-label'  %>
    <div class="col-sm-9">
      <%= f.email_field :email, class: 'form-control'  %>
    </div>
  </div>

  <div class="form-group">
    <%= f.label :phone, class: 'col-sm-2 control-label'  %>
    <div class="col-sm-9">
      <%= f.telephone_field :phone, class: 'form-control', :placeholder => "(123) 456-7890" %>
    </div>
  </div>

  <% if params[:action] == "edit" %>
    <div class="form-group">
      <%= f.label :street_address, class: 'col-sm-2 control-label'  %>
      <div class="col-sm-9">
        <%= f.telephone_field :street_address, class: 'form-control', :placeholder => "Street Address" %>
      </div>
    </div>
    <div class="form-group">
      <%= f.label :city, class: 'col-sm-2 control-label'  %>
      <div class="col-sm-9">
        <%= f.telephone_field :city, class: 'form-control', :placeholder => "City" %>
      </div>
    </div>
    <div class="form-group">
      <%= f.label :state, class: 'col-sm-2 control-label'  %>
      <div class="col-sm-9">
        <%= f.telephone_field :state, class: 'form-control', :placeholder => "Ex. NY" %>
      </div>
    </div>
    <div class="form-group">
      <%= f.label :zip_code, class: 'col-sm-2 control-label'  %>
      <div class="col-sm-9">
        <%= f.telephone_field :zip_code, class: 'form-control', :placeholder => "Zip Code" %>
      </div>
    </div>
    <div class="form-group">
      <%= f.label :account_number, class: 'col-sm-2 control-label'  %>
      <div class="col-sm-9">
        <%= f.telephone_field :account_number, class: 'form-control', :placeholder => "Account Number (will not be stored)" %>
      </div>
    </div>
    <div class="form-group">
      <%= f.label :routing_number, class: 'col-sm-2 control-label'  %>
      <div class="col-sm-9">
        <%= f.telephone_field :routing_number, class: 'form-control', :placeholder => "Account Number (will not be stored)" %>
      </div>
    </div>
    <div id="dropin"></div>
  <% end %>

  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-9">
      <%= f.submit "Update", class: "btn btn-primary" %>
    </div>
  </div>

  <div class="form-group">
    <div class="col-sm-offset-2 col-md-9">
      <%= link_to "Back", user_path, class: 'btn btn-default col-md-12 col-xs-12' %>
    </div>
  </div>
<% end %>

<script>
  braintree.setup("<%= j @token %>", 'dropin', {
    container: 'dropin'
  });
</script>
